#!/bin/bash

welcomeScreen() {

        clear

        sleep 1

        printf "%s" "Welcome to"

        sleep 0.6

        printf "%s" "."

        sleep 0.6

        printf "%s" "."

        sleep 0.6

        printf "%s\n" "."

        sleep 1

        clear

        sleep 1



        echo " "

        printf "%s\n" " /${dred}\$\$\$\$\$\$\$  ${end}/${dred}\$\$                     ${end}/${dred}\$\$                ${end}/${dred}\$\$\$\$\$                     ${end}/${dred}\$\$${end}"

        sleep 0.1

        printf "%s\n" "| ${dred}\$\$${end}__  ${dred}\$\$${end}| ${dred}\$\$                    ${end}| ${dred}\$\$               ${end}|__  ${dred}\$\$                    ${end}| ${dred}\$\$${end}"

        sleep 0.1

        printf "%s\n" "| ${dred}\$\$  ${end}\\ ${dred}\$\$${end}| ${dred}\$\$  ${end}/${dred}\$\$\$\$\$\$   ${end}/${dred}\$\$\$\$\$\$\$${end}| ${dred}\$\$   ${end}/${dred}\$\$            ${end}| ${dred}\$\$  ${end}/${dred}\$\$\$\$\$\$   ${end}/${dred}\$\$\$\$\$\$\$${end}| ${dred}\$\$   ${end}/${dred}\$\$${end}"

        sleep 0.1

        printf "%s\n" "| ${dred}\$\$\$\$\$\$\$ ${end}| ${dred}\$\$ ${end}|____  ${dred}\$\$ ${end}/${dred}\$\$${end}_____/| ${dred}\$\$  ${end}/${dred}\$\$/            ${end}| ${dred}\$\$ ${end}|____  ${dred}\$\$ ${end}/${dred}\$\$${end}_____/| ${dred}\$\$  ${end}/${dred}\$\$${end}/"

        sleep 0.1

        printf "%s\n" "| ${dred}\$\$${end}__  ${dred}\$\$${end}| ${dred}\$\$  ${end}/${dred}\$\$\$\$\$\$\$${end}| ${dred}\$\$      ${end}| ${dred}\$\$\$\$\$\$${end}/        /${dred}\$$  ${end}| ${dred}\$\$  ${end}/${dred}\$\$\$\$\$\$\$${end}| ${dred}\$\$      ${end}| ${dred}\$\$\$\$\$\$${end}/"

        sleep 0.1

        printf "%s\n" "| ${dred}\$\$  ${end}\\ ${dred}\$\$${end}| ${dred}\$\$ ${end}/${dred}\$\$${end}__  ${dred}\$\$${end}| ${dred}\$\$      ${end}| ${dred}\$\$${end}_  ${dred}\$\$       ${end}| ${dred}\$\$  ${end}| ${dred}\$\$ ${end}/${dred}\$\$${end}__  ${dred}\$\$${end}| ${dred}\$\$      ${end}| ${dred}\$\$${end}_  ${dred}\$\$${end}"

        sleep 0.1

        printf "%s\n" "| ${dred}\$\$\$\$\$\$\$${end}/| ${dred}\$\$${end}|  ${dred}\$\$\$\$\$\$\$${end}|  ${dred}\$\$\$\$\$\$\$${end}| ${dred}\$\$ ${end}\\  ${dred}\$\$      ${end}|  ${dred}\$\$\$\$\$\$/${end}|  ${dred}\$\$\$\$\$\$\$${end}|  ${dred}\$\$\$\$\$\$\$${end}| ${dred}\$\$ ${end}\\  ${dred}\$\$${end}"

        sleep 0.1

        printf "%s\n" "|_______/ |__/ \\_______/ \\_______/|__/  \\__/       \\______/  \\_______/ \\_______/|__/  \\__/"

        main

}

aceOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|A.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'A|"
        printf "%s\n" "'-------'"
}

twoOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|2.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'2|"
        printf "%s\n" "'-------'"
}

threeOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|3.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'3|"
        printf "%s\n" "'-------'"
}

sixOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|6.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'6|"
        printf "%s\n" "'-------'"
}

sevenOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|7.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'7|"
        printf "%s\n" "'-------'"
}

eightOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|8.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'8|"
        printf "%s\n" "'-------'"
}

nineOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|9.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'9|"
        printf "%s\n" "'-------'"
}

tenOfSpades() {
        printf "%s\n" ".---------."
        printf "%s\n" "|10.----. |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| :  ♠  : |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| '----'10|"
        printf "%s\n" "'---------'"
}

jackOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|J.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'J|"
        printf "%s\n" "'-------'"
}

queenOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|Q.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'Q|"
        printf "%s\n" "'-------'"
}

kingOfSpades() {
        printf "%s\n" ".-------."
        printf "%s\n" "|K.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♠ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'K|"
        printf "%s\n" "'-------'"
}

twoOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|2.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'2|"
        printf "%s\n" "'-------'"
}

threeOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|3.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'3|"
        printf "%s\n" "'-------'"
}

fourOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|4.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'4|"
        printf "%s\n" "'-------'"
}

fiveOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|5.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'5|"
        printf "%s\n" "'-------'"
}

sixOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|6.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'6|"
        printf "%s\n" "'-------'"
}

sevenOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|7.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'7|"
        printf "%s\n" "'-------'"
}

eightOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|8.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'8|"
        printf "%s\n" "'-------'"
}

nineOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|9.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'9|"
        printf "%s\n" "'-------'"
}

aceOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|A.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'A|"
        printf "%s\n" "'-------'"
}

kingOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|K.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'K|"
        printf "%s\n" "'-------'"
}

queenOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|Q.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'Q|"
        printf "%s\n" "'-------'"
}

jackOfHearts() {
        printf "%s\n" ".-------."
        printf "%s\n" "|J.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♥ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'J|"
        printf "%s\n" "'-------'"
}

tenOfHearts() {
        printf "%s\n" ".---------."
        printf "%s\n" "|10.----. |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| :  ♥  : |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| '----'10|"
        printf "%s\n" "'---------'"
}

twoOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|2.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'2|"
        printf "%s\n" "'-------'"
}

threeOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|3.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'3|"
        printf "%s\n" "'-------'"
}

fourOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|4.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'4|"
        printf "%s\n" "'-------'"
}

fiveOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|5.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'5|"
        printf "%s\n" "'-------'"
}

sixOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|6.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'6|"
        printf "%s\n" "'-------'"
}

sevenOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|7.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'7|"
        printf "%s\n" "'-------'"
}

eightOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|8.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'8|"
        printf "%s\n" "'-------'"
}

nineOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|9.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'9|"
        printf "%s\n" "'-------'"
}

aceOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|A.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'A|"
        printf "%s\n" "'-------'"
}

kingOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|K.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'|K|"
        printf "%s\n" "'-------'"
}

queenOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|Q.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'Q|"
        printf "%s\n" "'-------'"
}

jackOfDiamonds() {
        printf "%s\n" ".-------."
        printf "%s\n" "|J.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♦ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'J|"
        printf "%s\n" "'-------'"
}

tenOfDiamonds() {
        printf "%s\n" ".---------."
        printf "%s\n" "|10.----. |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| :  ♦  : |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| '----'10|"
        printf "%s\n" "'---------'"
}

twoOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|2.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'2|"
        printf "%s\n" "'-------'"
}

threeOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|3.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'3|"
        printf "%s\n" "'-------'"
}

fourOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|4.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'4|"
        printf "%s\n" "'-------'"
}

sixOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|6.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'6|"
        printf "%s\n" "'-------'"
}

sevenOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|7.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'7|"
        printf "%s\n" "'-------'"
}

eightOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|8.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'8|"
        printf "%s\n" "'-------'"
}

nineOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|9.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'9|"
        printf "%s\n" "'-------'"
}

aceOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|A.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'A|"
        printf "%s\n" "'-------'"
}

kingOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|K.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'K|"
        printf "%s\n" "'-------'"
}

queenOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|Q.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'Q|"
        printf "%s\n" "'-------'"
}

jackOfClubs() {
        printf "%s\n" ".-------."
        printf "%s\n" "|J.---. |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| : ♣ : |"
        printf "%s\n" "| :   : |"
        printf "%s\n" "| '---'J|"
        printf "%s\n" "'-------'"
}

tenOfClubs() {
        printf "%s\n" ".---------."
        printf "%s\n" "|10.----. |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| :  ♣  : |"
        printf "%s\n" "| :     : |"
        printf "%s\n" "| '----'10|"
        printf "%s\n" "'---------'"
}

backOfCard() {

    printf "%s\n" ".-------."
    printf "%s\n" "|*'*'*'*|"
    printf "%s\n" "|'*'*'*'|"
    printf "%s\n" "|'*'*'*'|"
    printf "%s\n" "|'*'*'*'|"
    printf "%s\n" "|'*'*'*'|"
    printf "%s\n" "'-------'"

}

deck=(aceOfSpades twoOfSpades jackOfSpades fourOfSpades fiveOfSpades sixOfSpades sevenOfSpades eightOfSpades nineOfSpades tenOfSpades threeOfSpades queenOfSpades kingOfSpades aceOfHearts twoOfHearts threeOfHearts fourOfHearts fiveOfHearts sixOfHearts sevenOfHearts eightOfHearts nineOfHearts tenOfHearts jackOfHearts queenOfHearts kingOfHearts aceOfDiamonds twoOfDiamonds threeOfDiamonds fourOfDiamonds fiveOfDiamonds sixOfDiamonds sevenOfDiamonds eightOfDiamonds nineOfDiamonds tenOfDiamonds jackOfDiamonds queenOfDiamonds kingOfDiamonds aceOfClubs twoOfClubs threeOfClubs fourOfClubs fiveOfClubs sixOfClubs sevenOfClubs eightOfClubs nineOfClubs tenOfClubs jackOfClubs queenOfClubs kingOfClubs)

playerCalcScore() {
        playerScore=0

        for ((i=0; i < ${#playerHand[*]}; i++)); do
                if [[ "${playerHand[$i]}" == *"two"* ]]; then
                        playerScore=$(( playerScore+ 2 ))

                elif [[ "${playerHand[$i]}" == *"three"* ]]; then
                        playerScore=$(( playerScore + 3 ))

                elif [[ "${playerHand[$i]}" == *"four"* ]]; then
                        playerScore=$(( playerScore + 4 ))

                elif [[ "${playerHand[$i]}" == *"five"* ]]; then
                        playerScore=$(( playerScore + 5 ))

                elif [[ "${playerHand[$i]}" == *"six"* ]]; then
                        playerScore=$(( playerScore + 6 ))

                elif [[ "${playerHand[$i]}" == *"seven"* ]]; then
                        playerScore=$(( playerScore + 7 ))

                elif [[ "${playerHand[$i]}" == *"eight"* ]]; then
                        playerScore=$(( playerScore + 8 ))

                elif [[ "${playerHand[$i]}" == *"nine"* ]]; then
                        playerScore=$(( playerScore + 9 ))

                elif [[ "${playerHand[$i]}" == *"ace"* ]]; then
                        if [[ "$playerScore" -gt 10 ]]; then
                                playerScore=$(( playerScore + 1 ))

                        else
                                playerScore=$(( playerScore + 11 ))
                        fi

                else
                        playerScore=$(( playerScore + 10 ))
                fi
        done
}

dealerCalcScore() {
        dealerScore=0

        for ((i=0; i < ${#dealerHand[*]}; i++)); do
                if [[ "${dealerHand[$i]}" == *"two"* ]]; then
                        dealerScore=$(( dealerScore + 2 ))

                elif [[ "${dealerHand[$i]}" == *"three"* ]]; then
                        dealerScore=$(( dealerScore + 3 ))

                elif [[ "${dealerHand[$i]}" == *"four"* ]]; then
                        dealerScore=$(( dealerScore + 4 ))

                elif [[ "${dealerHand[$i]}" == *"five"* ]]; then
                        dealerScore=$(( dealerScore + 5 ))

                elif [[ "${dealerHand[$i]}" == *"six"* ]]; then
                        dealerScore=$(( dealerScore + 6 ))

                elif [[ "${dealerHand[$i]}" == *"seven"* ]]; then
                        dealerScore=$(( dealerScore + 7 ))

                elif [[ "${dealerHand[$i]}" == *"eight"* ]]; then
                        dealerScore=$(( dealerScore + 8 ))

                elif [[ "${dealerHand[$i]}" == *"nine"* ]]; then
                        dealerScore=$(( dealerScore + 9 ))

                elif [[ "${dealerHand[$i]}" == *"ace"* ]]; then
                        if [[ "$dealerScore" -gt 10 ]]; then
                                dealerScore=$(( dealerScore + 1 ))
                        else
                                dealerScore=$(( dealerScore + 11 ))
                        fi
                else
                        dealerScore=$(( dealerScore + 10 ))
                fi
        done
}

showDeck() {
        for ((i=0; i < ${#deck[*]}; i++)); do
                "${deck[$i]}"
                sleep 0.05
        done
}

shuffleDeck() {
        for ((i=0; i < ${#deck[*]}; i++)); do
                j=$(($RANDOM%${#deck[*]}))
                temp=${deck[$i]}
                deck[$i]=${deck[$j]}
                deck[$j]=$temp
        done
}

dealCards() {
        dealerHand=()
        playerHand=()
        cardCount=0
        shuffleDeck
        playerHand+=("${deck[0]}" "${deck[2]}")
        dealerHand+=("${deck[1]}" "${deck[3]}")
        cardCount=4
}

hitPlayer() {
        playerHand+=("${deck[$cardCount]}")
        cardCount=$(( cardCount + 1 ))
}

hitDealer() {
        dealerHand+=("${deck[$cardCount]}")
        cardCount=$(( cardCount + 1 ))
}

dealerTurn() {
        clear
        dealerFinalStatus
        sleep 1.5
        if [[ "$dealerScore" -eq "$playerScore" ]]; then
                tieScreen

        elif [[ "$dealerScore" -gt "$playerScore" ]]; then
                dealerWin

        else
        while [[ "$playerScore" -gt "$dealerScore" ]]; do
                clear
                hitDealer
                dealerCalcScore
                dealerFinalStatus
                sleep 1.5
        done

        if [[ "$dealerScore" -gt 21 ]]; then
                dealerBust

        elif [[ "$dealerScore" -eq "$playerScore" ]]; then
                tieScreen


elif [[ "$dealerScore" -gt "$playerScore" && "$dealerScore" -le 21 ]]; then

                dealerWin

fi

fi



}



initialRefreshScreen() {

        sleep 0.5

        printf "%s\n" "${cyn}DEALER'S HAND${end}"

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "





        echo " "

        printf "%s\n" "${grn}PLAYER'S HAND${end}"

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        printf "%s\n" "Score:${grn}?${end}"

        sleep 0.3

        clear



        printf "%s\n" "${cyn}DEALER'S HAND${end}"

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "





        echo " "

        printf "%s\n" "${grn}PLAYER'S HAND${end}"

        echo " "

        "${playerHand[0]}"

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "



        printf "%s\n" "Score:${grn}?${end}"

        sleep 0.3



        clear

        printf "%s\n" "${cyn}DEALER'S HAND${end}"

        echo " "

        backOfCard

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "





        echo " "

        printf "%s\n" "${grn}PLAYER'S HAND${end}"

        echo " "

        "${playerHand[0]}"

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "



        printf "%s\n" "Score:${grn}?${end}"

        sleep 0.3



        clear

        printf "%s\n" "${cyn}DEALER'S HAND${end}"

        echo " "

        backOfCard

        "${dealerHand[1]}"





        echo " "

        printf "%s\n" "${grn}PLAYER'S HAND${end}"

        echo " "

        "${playerHand[0]}"

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "

        echo " "



        printf "%s\n" "Score:${grn}?${end}"

        sleep 0.3



        clear

        printf "%s\n" "${cyn}DEALER'S HAND${end}"

        echo " "

        backOfCard

        "${dealerHand[1]}"





        echo " "

        printf "%s\n" "${grn}PLAYER'S HAND${end}"

        echo " "

        "${playerHand[0]}"

        "${playerHand[1]}"



        printf "%s\n" "Score:${grn}$playerScore${end}"



}

refreshScreen() {



        dealerStatus

        playerStatus



}



playerStatus() {



        echo " "

        printf "%s\n" "${grn}PLAYER'S HAND${end}"

        echo " "

        for ((i=0; i < ${#playerHand[*]} - 1; i++)); do

                "${playerHand[$i]}"

        done

        for ((i=${#playerHand[*]} - 1; i < ${#playerHand[*]}; i++)); do

                sleep 0.3

                "${playerHand[$i]}"

        done

        printf "%s\n" "Score:${grn}$playerScore${end}"





}

playerFinalStatus() {



        echo " "

        printf "%s\n" "${grn}PLAYER'S HAND${end}"

        echo " "

        for ((i=0; i < ${#playerHand[*]}; i++)); do

                "${playerHand[$i]}"

        done

        printf "%s\n" "Score:${grn}$playerScore${end}"





}

dealerStatus() {



        printf "%s\n" "${cyn}DEALER'S HAND${end}"

        echo " "

        backOfCard

        for ((i=1; i < ${#dealerHand[*]}; i++)); do

                "${dealerHand[$i]}"

        done





}



dealerFinalStatus() {



        printf "%s\n" "${cyn}DEALER'S HAND${end}"

        echo " "

        for ((i=0; i < ${#dealerHand[*]} - 1 ; i++)); do

                "${dealerHand[$i]}"

        done

        for ((i=${#dealerHand[*]} - 1; i < ${#dealerHand[*]}; i++)); do

                sleep 0.3

                "${dealerHand[$i]}"

        done

        printf "%s\n" "Dealer Score:${cyn}$dealerScore${end}"

}



hitOrStay() {



        echo " "

        read -p "Press \"${dred}H${end}\" to hit, or press \"${dgrn}S${end}\" to stay: " response


if [[ "$response" == 'h' || "$response" == 'H' ]]; then

                hitPlayer

                playerCalcScore

                if [[ $playerScore -gt 21 ]];then

                        playerBust

                fi

                clear

                refreshScreen

                hitOrStay

        elif  [[ "$response" == 's' || "$response" == 'S' ]]; then

                dealerTurn

        fi

}







playOrExit() {




        sleep 1.25

        read -p "Would you like to play again?: " response

        if [[ "$response" == "yes" || "$response" == "Yes" || "$response" == "y" || "$response" == "Y" ]]; then

                clear

                main

        else

                showDeck
exit

        fi

}





main() {

        clear

        sleep 1

        dealCards

        playerCalcScore

        dealerCalcScore

        initialRefreshScreen

        #refreshScreen

        #check for blackjacks

        if [[ $playerScore -eq 21 && $dealerScore -lt 21 ]];then

                sleep 2

playerBlackJack

        elif [[ $dealerScore -eq 21 && $playerScore -lt 21 ]];then

                dealerBlackJack

        elif [[ $playerScore -eq 21 && $dealerScore -eq 21 ]];then

                tieScreen

        fi

        hitOrStay

}



playerBust() {

        clear

playerStatus

        echo "You went over 21! You lost!"

        playOrExit

}



dealerBust() {

        clear

dealerFinalStatus

playerStatus

        echo "Dealer went over 21, you win!"

        playOrExit



}



playerBlackJack() {

        echo "BlackJack! You win!"

sleep 2

        flashScreenBlackJack

flashScreenBlackJack

flashScreenBlackJack

        playOrExit

}



dealerBlackJack() {

clear

        dealerFinalStatus

playerStatus

        echo "Dealer has BlackJack"

        playOrExit

}

dealerWin() {

        clear

dealerFinalStatus

playerStatus

        echo "Dealer Wins!"

        playOrExit

}



tieScreen() {

        clear

dealerFinalStatus

playerStatus

        echo "Tie Game!"

        playOrExit

}

welcomeScreen
